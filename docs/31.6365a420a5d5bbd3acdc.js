webpackJsonp([31],{"3rJR":function(t,e,n){var a=n("x36M");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("8c4078b8",a,!0,{})},"4V5N":function(t,e,n){"use strict";function a(t){n("3rJR")}Object.defineProperty(e,"__esModule",{value:!0});var s=n("9UBB"),i=n.n(s);for(var l in s)"default"!==l&&function(t){n.d(e,t,function(){return s[t]})}(l);var r=n("xT+N"),o=n("VU/8"),d=a,u=o(i.a,r.a,!1,d,null,null);e.default=u.exports},"9UBB":function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n("9v+x"),i=a(s),l=n("WB2H"),r=a(l);e.default={data:function(){return{code:i.default,isSubmitBtnDisabled:!1,initialData:{},formRst:""}},computed:{cells:function(){return{modalformitem:{label:"内容",type:"modalformitem",extra:{tableParams:{idKey:"id",columns:[{title:"标题",width:"160",dataKey:"title"}]},formParams:{cells:{title:{label:"标题",type:"textfield",attrs:{placeholder:"标题"},validate:{required:{message:"请输入标题"},maxlength:{rule:64,message:"名称不长于64个字符"}}},detail:{label:"正文",type:"richtext",attrs:{placeholder:""},validate:{required:{message:"请输入正文"},maxlength:{rule:65536,message:"正文不长于65536个字符"}}}},inFilter:function(t){return t},outFilter:function(t){return t}}},validate:{required:{message:"请增加内容项"}}}}}},methods:{submit:function(){var t=this;this.isSubmitBtnDisabled=!0;var e="validate";return this.$refs.form.validateAll().then(function(){return e="getData",t.$refs.form.defaultMutate()}).then(function(e){t.formRst=JSON.stringify(e)}).catch(function(t){"validate"===e?r.default.info("校验不通过"):"getData"===e&&r.default.info(t.message)}).finally(function(){t.isSubmitBtnDisabled=!1}),!1}}},t.exports=e.default},"9v+x":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default="\n<template>\n   <c-form :cells=\"cells\" ref=\"form\" :init-data=\"initialData\">\n      <p class=\"control\" slot=\"footer\">\n        <button class=\"button is-primary\" :class=\"{ 'is-disabled': isSubmitBtnDisabled }\" @click.prevent=\"submit\">提交</button>\n      </p>\n   </c-form>\n   <p>{{formRst}}</p>\n</template>\n\n<script>\n  import message from 'components/message'\n\n  export default {\n    data () {\n      return {\n        isSubmitBtnDisabled: false,\n        initialData: {},\n        formRst: ''\n      }\n    },\n    computed: {\n      cells () {\n        return {\n          modalformitem: {\n            label: '内容',\n            type: 'modalformitem',\n            extra: {\n              tableParams: {\n                idKey: 'id',\n                columns: [\n                  { title: '标题', width: '160', dataKey: 'title' }\n                ]\n              },\n              formParams: {\n                cells: {\n                  title: {\n                    label: '标题',\n                    type: 'textfield',\n                    attrs: {\n                      placeholder: '标题'\n                    },\n                    validate: {\n                      required: {\n                        message: '请输入标题'\n                      },\n                      maxlength: {\n                        rule: 64,\n                        message: '名称不长于64个字符'\n                      }\n                    }\n                  },\n                  detail: {\n                    label: '正文',\n                    type: 'richtext',\n                    attrs: {\n                      placeholder: ''\n                    },\n                    validate: {\n                      required: {\n                        message: '请输入正文'\n                      },\n                      maxlength: {\n                        rule: 65536,\n                        message: '正文不长于65536个字符'\n                      }\n                    }\n                  }\n                },\n                inFilter: data => {\n                  return data\n                },\n                outFilter: data => {\n                  return data\n                }\n              }\n            },\n            validate: {\n              required: {\n                message: '请增加内容项'\n              }\n            }\n          }\n        }\n      }\n    },\n    methods: {\n      submit () {\n        this.isSubmitBtnDisabled = true\n        let step = 'validate'\n        this.$refs.form.validateAll().then(() => {\n          step = 'getData'\n          return this.$refs.form.defaultMutate()\n        }).then(data => {\n          this.formRst = JSON.stringify(data)\n        }).catch(error => {\n          if (step === 'validate') {\n            message.info('校验不通过')\n          } else if (step === 'getData') {\n            message.info(error.message)\n          }\n        }).finally(() => {\n          this.isSubmitBtnDisabled = false\n        })\n        return false\n      }\n    }\n  }\n<\/script>\n",t.exports=e.default},x36M:function(t,e,n){e=t.exports=n("FZ+f")(),e.push([t.i,"",""])},"xT+N":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("demo",{attrs:{title:"添加数组数据",vertical:!0}},[n("div",{attrs:{slot:"demo"},slot:"demo"},[n("c-form",{ref:"form",attrs:{cells:t.cells,"init-data":t.initialData}},[n("p",{staticClass:"control",attrs:{slot:"footer"},slot:"footer"},[n("button",{staticClass:"button is-primary",class:{"is-disabled":t.isSubmitBtnDisabled},on:{click:function(e){e.preventDefault(),t.submit(e)}}},[t._v("提交")])])]),t._v(" "),n("p",[t._v(t._s(t.formRst))])],1),t._v(" "),n("div",{attrs:{slot:"desc"},slot:"desc"},[n("p",[t._v("添加数组数据。")])]),t._v(" "),n("d-code",{attrs:{slot:"code",lang:"auto"},slot:"code"},[t._v(t._s(t.code))])],1)],1)},s=[],i={render:a,staticRenderFns:s};e.a=i}});